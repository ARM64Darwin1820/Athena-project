# gdcm.rb
# https://github.com/Homebrew/homebrew-core/blob/master/Formula/gdcm.rb
# Converted on 02-02-2019

name='gdcm'
url=('https://downloads.sourceforge.net/project/gdcm/gdcm%202.x/GDCM%202.8.7/gdcm-2.8.7.tar.gz')
description='Grassroots DICOM library and utilities for medical files'
version='2.8.7' # Guessed version.
priority='optional'
homepage='https://sourceforge.net/projects/gdcm/'
depends=('openjpeg' 'openssl' 'python')
makedepends=('cmake' 'pkg-config' 'swig')

###### Install ######
# ENV.cxx11
# xy = Language::Python.major_minor_version "python3"
# python_include = Utils.popen_read("python3 -c 'from distutils import sysconfig;print(sysconfig.get_python_inc(True))'").chomp
# args = std_cmake_args + %W[
# -DGDCM_BUILD_APPLICATIONS=ON
# -DGDCM_BUILD_SHARED_LIBS=ON
# -DGDCM_BUILD_TESTING=OFF
# -DGDCM_BUILD_EXAMPLES=OFF
# -DGDCM_BUILD_DOCBOOK_MANPAGES=OFF
# -DGDCM_USE_VTK=OFF
# -DGDCM_USE_SYSTEM_OPENJPEG=ON
# -DGDCM_USE_SYSTEM_OPENSSL=ON
# -DGDCM_WRAP_PYTHON=ON
# -DPYTHON_EXECUTABLE=python3
# -DPYTHON_INCLUDE_DIR=#{python_include}
# -DGDCM_INSTALL_PYTHONMODULE_DIR=#{lib}/python#{xy}/site-packages
# -DCMAKE_INSTALL_RPATH=#{lib}
# -DGDCM_NO_PYTHON_LIBS_LINKING=ON
# ]
# mkdir "build" do
# ENV.append "LDFLAGS", "-undefined dynamic_lookup"
# system "cmake", "..", *args
# system "make", "install"
# end
