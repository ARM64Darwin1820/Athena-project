# collector-sidecar.rb
# https://github.com/Homebrew/homebrew-core/blob/master/Formula/collector-sidecar.rb
# Converted on 02-01-2019

name='collectorsidecar'
url=('https://github.com/Graylog2/collector-sidecar/archive/0.1.7.tar.gz')
description='Manage log collectors through Graylog'
version='0.1.7' # Guessed version.
priority='optional'
homepage='https://github.com/Graylog2/collector-sidecar'
depends=('filebeat')
makedepends=('glide' 'go' 'mercurial')

###### Install ######
# ENV["GOPATH"] = buildpath
# ENV["GLIDE_HOME"] = HOMEBREW_CACHE/"glide_home/#{name}"
# (buildpath/"src/github.com/Graylog2/collector-sidecar").install buildpath.children
# cd "src/github.com/Graylog2/collector-sidecar" do
# inreplace "main.go", "/etc", etc
# inreplace "collector_sidecar.yml" do |s|
# s.gsub! "/usr", HOMEBREW_PREFIX
# s.gsub! "/etc", etc
# s.gsub! "/var", var
# end
# system "glide", "install"
# system "make", "build"
# (etc/"graylog/collector-sidecar").install "collector_sidecar.yml"
# bin.install "graylog-collector-sidecar"
# prefix.install_metafiles
# end
