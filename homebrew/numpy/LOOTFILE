# numpy.rb
# https://github.com/Homebrew/homebrew-core/blob/master/Formula/numpy.rb
# Converted on 02-01-2019

name='numpy'
url=('https://files.pythonhosted.org/packages/04/b6/d7faa70a3e3eac39f943cc6a6a64ce378259677de516bd899dd9eb8f9b32/numpy-1.16.0.zip')
description='Package for scientific computing with Python'
version='1.16.0' # Guessed version.
priority='optional'
homepage='https://www.numpy.org/'
depends=('openblas' 'python' 'python@2')
makedepends=('gcc')

###### Resource ######
# Cython: https://files.pythonhosted.org/packages/c1/f2/d1207fd0dfe5cb4dbb06a035eb127653821510d896ce952b5c66ca3dafa4/Cython-0.29.2.tar.gz
# nose: https://files.pythonhosted.org/packages/58/a5/0dc93c3ec33f4e281849523a5a913fa1eea9a3068acfa754d44d88107a44/nose-1.3.7.tar.gz

###### Install ######
# openblas = Formula["openblas"].opt_prefix
# ENV["ATLAS"] = "None"
# ENV["BLAS"] = ENV["LAPACK"] = "#{openblas}/lib/libopenblas.dylib"
# config = <<~EOS
# [openblas]
# libraries = openblas
# library_dirs = #{openblas}/lib
# include_dirs = #{openblas}/include
# EOS
# Pathname("site.cfg").write config
# ["python2", "python3"].each do |python|
# version = Language::Python.major_minor_version python
# dest_path = lib/"python#{version}/site-packages"
# dest_path.mkpath
# nose_path = libexec/"nose/lib/python#{version}/site-packages"
# resource("nose").stage do
# system python, *Language::Python.setup_install_args(libexec/"nose")
# (dest_path/"homebrew-numpy-nose.pth").write "#{nose_path}\n"
# end
# ENV.prepend_create_path "PYTHONPATH", buildpath/"tools/lib/python#{version}/site-packages"
# resource("Cython").stage do
# system python, *Language::Python.setup_install_args(buildpath/"tools")
# end
# system python, "setup.py",
# "build", "--fcompiler=gnu95", "--parallel=#{ENV.make_jobs}",
# "install", "--prefix=#{prefix}",
# "--single-version-externally-managed", "--record=installed.txt"
# end
