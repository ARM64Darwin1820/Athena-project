# scipy.rb
# https://github.com/Homebrew/homebrew-core/blob/master/Formula/scipy.rb
# Converted on 02-01-2019

name='scipy'
url=('https://files.pythonhosted.org/packages/ea/c8/c296904f2c852c5c129962e6ca4ba467116b08cd5b54b7180b2e77fe06b2/scipy-1.2.0.tar.gz')
description='Software for mathematics, science, and engineering'
version='1.2.0' # Guessed version.
priority='optional'
homepage='https://www.scipy.org'
depends=('gcc' 'numpy' 'openblas' 'python' 'python@2')
makedepends=('swig')

###### Install ######
# openblas = Formula["openblas"].opt_prefix
# ENV["ATLAS"] = "None"
# ENV["BLAS"] = ENV["LAPACK"] = "#{openblas}/lib/libopenblas.dylib"
# config = <<~EOS
# [DEFAULT]
# library_dirs = #{HOMEBREW_PREFIX}/lib
# include_dirs = #{HOMEBREW_PREFIX}/include
# [openblas]
# libraries = openblas
# library_dirs = #{openblas}/lib
# include_dirs = #{openblas}/include
# EOS
# Pathname("site.cfg").write config
# ["python2", "python3"].each do |python|
# version = Language::Python.major_minor_version python
# ENV["PYTHONPATH"] = Formula["numpy"].opt_lib/"python#{version}/site-packages"
# ENV.prepend_create_path "PYTHONPATH", lib/"python#{version}/site-packages"
# system python, "setup.py", "build", "--fcompiler=gnu95"
# system python, *Language::Python.setup_install_args(prefix)
# end
# rm_f Dir["#{HOMEBREW_PREFIX}/lib/python*.*/site-packages/scipy/**/*.pyc"]
