# perl-build.rb
# https://github.com/Homebrew/homebrew-core/blob/master/Formula/perl-build.rb
# Converted on 02-02-2019

name='perlbuild'
url=('https://github.com/tokuhirom/Perl-Build/archive/1.25.tar.gz')
description='Perl builder'
version='1.25' # Guessed version.
priority='optional'
homepage='https://github.com/tokuhirom/Perl-Build'

###### Resource ######
# inc::latest: https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/inc-latest-0.500.tar.gz
# Module::Build: https://cpan.metacpan.org/authors/id/L/LE/LEONT/Module-Build-0.4222.tar.gz
# Module::Build::Tiny: https://cpan.metacpan.org/authors/id/L/LE/LEONT/Module-Build-Tiny-0.039.tar.gz
# ExtUtils::Config: https://cpan.metacpan.org/authors/id/L/LE/LEONT/ExtUtils-Config-0.008.tar.gz
# ExtUtils::Helpers: https://cpan.metacpan.org/authors/id/L/LE/LEONT/ExtUtils-Helpers-0.026.tar.gz
# ExtUtils::InstallPaths: https://cpan.metacpan.org/authors/id/L/LE/LEONT/ExtUtils-InstallPaths-0.012.tar.gz
# HTTP::Tinyish: https://cpan.metacpan.org/authors/id/M/MI/MIYAGAWA/HTTP-Tinyish-0.14.tar.gz
# common::sense: https://cpan.metacpan.org/authors/id/M/ML/MLEHMANN/common-sense-3.74.tar.gz
# Perl::Strip: https://cpan.metacpan.org/authors/id/M/ML/MLEHMANN/Perl-Strip-1.1.tar.gz
# App::FatPacker: https://cpan.metacpan.org/authors/id/M/MS/MSTROUT/App-FatPacker-0.010007.tar.gz
# CPAN::Perl::Releases: https://cpan.metacpan.org/authors/id/B/BI/BINGOS/CPAN-Perl-Releases-3.72.tar.gz
# CPAN::Perl::Releases::MetaCPAN: https://cpan.metacpan.org/authors/id/S/SK/SKAJI/CPAN-Perl-Releases-MetaCPAN-0.006.tar.gz
# File::pushd: https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/File-pushd-1.014.tar.gz
# HTTP::Tiny: https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/HTTP-Tiny-0.070.tar.gz
# IO::File: https://cpan.metacpan.org/authors/id/G/GB/GBARR/IO-1.25.tar.gz
# MIME::Base64: https://cpan.metacpan.org/authors/id/G/GA/GAAS/MIME-Base64-3.15.tar.gz
# XSLoader: https://cpan.metacpan.org/authors/id/S/SA/SAPER/XSLoader-0.24.tar.gz
# Module::Pluggable: https://cpan.metacpan.org/authors/id/S/SI/SIMONW/Module-Pluggable-5.2.tar.gz
# Exporter: https://cpan.metacpan.org/authors/id/T/TO/TODDR/Exporter-5.72.tar.gz
# Carp: https://cpan.metacpan.org/authors/id/R/RJ/RJBS/Carp-1.38.tar.gz
# ExtUtils::MakeMaker: https://cpan.metacpan.org/authors/id/B/BI/BINGOS/ExtUtils-MakeMaker-7.24.tar.gz
# Data::Dumper: https://cpan.metacpan.org/authors/id/S/SM/SMUELLER/Data-Dumper-2.161.tar.gz
# Encode: https://cpan.metacpan.org/authors/id/D/DA/DANKOGAI/Encode-2.89.tar.gz
# parent: https://cpan.metacpan.org/authors/id/C/CO/CORION/parent-0.236.tar.gz
# PathTools: https://cpan.metacpan.org/authors/id/R/RJ/RJBS/PathTools-3.62.tar.gz
# Scalar-List-Utils: https://cpan.metacpan.org/authors/id/P/PE/PEVANS/Scalar-List-Utils-1.47.tar.gz
# if: https://cpan.metacpan.org/authors/id/R/RJ/RJBS/if-0.0606.tar.gz
# Devel::PatchPerl: https://cpan.metacpan.org/authors/id/B/BI/BINGOS/Devel-PatchPerl-1.48.tar.gz
# File::Temp: https://cpan.metacpan.org/authors/id/D/DA/DAGOLDEN/File-Temp-0.2304.tar.gz
# Getopt::Long: https://cpan.metacpan.org/authors/id/J/JV/JV/Getopt-Long-2.49.1.tar.gz
# Pod::Text: https://cpan.metacpan.org/authors/id/R/RR/RRA/podlators-4.09.tar.gz
# Pod::Usage: https://cpan.metacpan.org/authors/id/M/MA/MAREKR/Pod-Usage-1.69.tar.gz

###### Install ######
# ENV.prepend_create_path "PERL5LIB", libexec/"lib/perl5"
# (buildpath/"perl-build").unlink
# (buildpath/"bin/perl-build").unlink
# build_pl = ["Module::Build::Tiny", "CPAN::Perl::Releases::MetaCPAN"]
# resources.each do |r|
# r.stage do
# next if build_pl.include? r.name
# system "perl", "Makefile.PL", "INSTALL_BASE=#{libexec}"
# system "make"
# system "make", "install"
# end
# end
# build_pl.each do |name|
# resource(name).stage do
# system "perl", "Build.PL", "--install_base", libexec
# system "./Build"
# system "./Build", "install"
# end
# end
# ENV.prepend_path "PATH", libexec/"bin"
# system "perl", "Build.PL", "--install_base", libexec
# (buildpath/"bin").install_symlink buildpath/"script/perl-build"
# system "./Build"
# system "./Build", "install"
# %w[perl-build plenv-install plenv-uninstall].each do |cmd|
# (bin/cmd).write_env_script(libexec/"bin/#{cmd}", :PERL5LIB => ENV["PERL5LIB"])
# end
